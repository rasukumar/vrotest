<?xml version='1.0' encoding='UTF-8'?>
<dunes-script-module name="returnInstitutionCluster" result-type="Array/string" api-version="6.0.0" id="e7d3ea29-54e5-4ee2-b8e4-c3ab02935c30" version="0.0.0" allowed-operations="vfe" category-name="com.vmware.ihis">
  <param n="project" t="string"><![CDATA[]]></param>
  <script encoded="false"><![CDATA[
var cat = Server.getConfigurationElementCategoryWithPath("web-root")
var configEls = cat.configurationElements
var inputCategory = ""
var values = new Array()
var elementName = "institutionClusterPerProject"

if(project != "" && project != null){
    for each(var configEl in configEls) {
    if(configEl.name == "projectIdToName"){
        var attrs =  configEl.attributes
        for each (var attr in attrs){
                if(attr.value == project)
                    inputCategory = attr.name

        }
    }

}


for each(var configEl in configEls) {
    if(configEl.name == elementName){
        var attr =  configEl.getAttributeWithKey(inputCategory)
        values = attr.value
        break
    }

}

}
System.log(values)
return values


]]></script>
</dunes-script-module>